{
  "Version": "2019-10-30",
  "StartAction": "a1000001-0001-0001-0001-000000000001",
  "Metadata": {
    "entryPointPosition": { "x": 39, "y": 40 },
    "ActionMetadata": {
      "a1000001-0001-0001-0001-000000000001": { "position": { "x": 250, "y": 40 } },
      "a1000002-0002-0002-0002-000000000002": { "position": { "x": 500, "y": 40 } },
      "a1000003-0003-0003-0003-000000000003": { "position": { "x": 750, "y": 40 } },
      "a1000004-0004-0004-0004-000000000004": { "position": { "x": 1000, "y": -100 } },
      "a1000005-0005-0005-0005-000000000005": { "position": { "x": 1000, "y": 200 } },
      "a1000006-0006-0006-0006-000000000006": { "position": { "x": 1250, "y": -100 } },
      "a1000007-0007-0007-0007-000000000007": { "position": { "x": 1250, "y": 200 } },
      "a1000008-0008-0008-0008-000000000008": { "position": { "x": 1500, "y": 40 } },
      "a1000009-0009-0009-0009-000000000009": { "position": { "x": 1750, "y": -100 } },
      "a1000010-0010-0010-0010-000000000010": { "position": { "x": 2000, "y": -100 } },
      "a1000011-0011-0011-0011-000000000011": { "position": { "x": 2250, "y": -100 } },
      "a1000012-0012-0012-0012-000000000012": { "position": { "x": 1750, "y": 200 } },
      "a1000013-0013-0013-0013-000000000013": { "position": { "x": 2000, "y": 200 } },
      "a1000014-0014-0014-0014-000000000014": { "position": { "x": 750, "y": 350 } },
      "a1000015-0015-0015-0015-000000000015": { "position": { "x": 2500, "y": 40 } },
      "a1000016-0016-0016-0016-000000000016": { "position": { "x": 2000, "y": 350 } },
      "a1000017-0017-0017-0017-000000000017": { "position": { "x": 2250, "y": 350 } }
    }
  },
  "Actions": [
    {
      "Identifier": "a1000001-0001-0001-0001-000000000001",
      "Type": "UpdateContactTextToSpeechVoice",
      "Parameters": {
        "TextToSpeechEngine": "Neural",
        "TextToSpeechStyle": "None",
        "TextToSpeechVoice": "Joanna"
      },
      "Transitions": {
        "NextAction": "a1000002-0002-0002-0002-000000000002",
        "Errors": [
          { "ErrorType": "NoMatchingError", "NextAction": "a1000015-0015-0015-0015-000000000015" }
        ]
      }
    },
    {
      "Identifier": "a1000002-0002-0002-0002-000000000002",
      "Type": "MessageParticipant",
      "Parameters": {
        "Text": "Welcome to the smart business hours router."
      },
      "Transitions": {
        "NextAction": "a1000003-0003-0003-0003-000000000003",
        "Errors": [
          { "ErrorType": "NoMatchingError", "NextAction": "a1000015-0015-0015-0015-000000000015" }
        ],
        "Conditions": []
      }
    },
    {
      "Identifier": "a1000003-0003-0003-0003-000000000003",
      "Type": "GetParticipantInput",
      "Parameters": {
        "Text": "Press 1 for sales, or press 2 for support.",
        "StoreInput": "False",
        "InputTimeLimitSeconds": "5"
      },
      "Transitions": {
        "NextAction": "a1000014-0014-0014-0014-000000000014",
        "Conditions": [
          {
            "NextAction": "a1000004-0004-0004-0004-000000000004",
            "Condition": { "Operator": "Equals", "Operands": ["1"] }
          },
          {
            "NextAction": "a1000005-0005-0005-0005-000000000005",
            "Condition": { "Operator": "Equals", "Operands": ["2"] }
          }
        ],
        "Errors": [
          { "ErrorType": "InputTimeLimitExceeded", "NextAction": "a1000014-0014-0014-0014-000000000014" },
          { "ErrorType": "NoMatchingCondition", "NextAction": "a1000014-0014-0014-0014-000000000014" },
          { "ErrorType": "NoMatchingError", "NextAction": "a1000015-0015-0015-0015-000000000015" }
        ]
      }
    },
    {
      "Identifier": "a1000004-0004-0004-0004-000000000004",
      "Type": "UpdateContactAttributes",
      "Parameters": {
        "Attributes": {
          "department": "sales"
        },
        "TargetContact": "Current"
      },
      "Transitions": {
        "NextAction": "a1000006-0006-0006-0006-000000000006",
        "Errors": [
          { "ErrorType": "NoMatchingError", "NextAction": "a1000015-0015-0015-0015-000000000015" }
        ]
      }
    },
    {
      "Identifier": "a1000005-0005-0005-0005-000000000005",
      "Type": "UpdateContactAttributes",
      "Parameters": {
        "Attributes": {
          "department": "support"
        },
        "TargetContact": "Current"
      },
      "Transitions": {
        "NextAction": "a1000007-0007-0007-0007-000000000007",
        "Errors": [
          { "ErrorType": "NoMatchingError", "NextAction": "a1000015-0015-0015-0015-000000000015" }
        ]
      }
    },
    {
      "Identifier": "a1000006-0006-0006-0006-000000000006",
      "Type": "UpdateContactTargetQueue",
      "Parameters": {
        "QueueId": "arn:aws:connect:us-west-2:988066449281:instance/7d261e94-17bc-4f3e-96f7-f9b7541ce479/queue/337d3528-bb6c-40e3-8e1d-fbe98ab400a1"
      },
      "Transitions": {
        "NextAction": "a1000008-0008-0008-0008-000000000008",
        "Errors": [
          { "ErrorType": "NoMatchingError", "NextAction": "a1000015-0015-0015-0015-000000000015" }
        ]
      }
    },
    {
      "Identifier": "a1000007-0007-0007-0007-000000000007",
      "Type": "UpdateContactTargetQueue",
      "Parameters": {
        "QueueId": "arn:aws:connect:us-west-2:988066449281:instance/7d261e94-17bc-4f3e-96f7-f9b7541ce479/queue/c0ea4d3e-1ef8-4d75-b0d7-158dcb6335b0"
      },
      "Transitions": {
        "NextAction": "a1000008-0008-0008-0008-000000000008",
        "Errors": [
          { "ErrorType": "NoMatchingError", "NextAction": "a1000015-0015-0015-0015-000000000015" }
        ]
      }
    },
    {
      "Identifier": "a1000008-0008-0008-0008-000000000008",
      "Type": "CheckHoursOfOperation",
      "Parameters": {},
      "Transitions": {
        "NextAction": "a1000012-0012-0012-0012-000000000012",
        "Conditions": [
          {
            "NextAction": "a1000009-0009-0009-0009-000000000009",
            "Condition": { "Operator": "Equals", "Operands": ["True"] }
          },
          {
            "NextAction": "a1000012-0012-0012-0012-000000000012",
            "Condition": { "Operator": "Equals", "Operands": ["False"] }
          }
        ],
        "Errors": [
          { "ErrorType": "NoMatchingError", "NextAction": "a1000015-0015-0015-0015-000000000015" }
        ]
      }
    },
    {
      "Identifier": "a1000009-0009-0009-0009-000000000009",
      "Type": "InvokeLambdaFunction",
      "Parameters": {
        "LambdaFunctionARN": "arn:aws:lambda:us-west-2:988066449281:function:self-learning-test-4-lookup",
        "InvocationTimeLimitSeconds": "3"
      },
      "Transitions": {
        "NextAction": "a1000010-0010-0010-0010-000000000010",
        "Errors": [
          { "ErrorType": "NoMatchingError", "NextAction": "a1000016-0016-0016-0016-000000000016" }
        ]
      }
    },
    {
      "Identifier": "a1000010-0010-0010-0010-000000000010",
      "Type": "MessageParticipant",
      "Parameters": {
        "Text": "You are being connected to $.External.departmentName. This department operates $.External.departmentHours with $.External.agentCount agents available. Please hold while we transfer you."
      },
      "Transitions": {
        "NextAction": "a1000011-0011-0011-0011-000000000011",
        "Errors": [
          { "ErrorType": "NoMatchingError", "NextAction": "a1000015-0015-0015-0015-000000000015" }
        ],
        "Conditions": []
      }
    },
    {
      "Identifier": "a1000011-0011-0011-0011-000000000011",
      "Type": "TransferContactToQueue",
      "Parameters": {},
      "Transitions": {
        "NextAction": "a1000015-0015-0015-0015-000000000015",
        "Errors": [
          { "ErrorType": "QueueAtCapacity", "NextAction": "a1000016-0016-0016-0016-000000000016" },
          { "ErrorType": "NoMatchingError", "NextAction": "a1000015-0015-0015-0015-000000000015" }
        ]
      }
    },
    {
      "Identifier": "a1000012-0012-0012-0012-000000000012",
      "Type": "MessageParticipant",
      "Parameters": {
        "Text": "We are sorry, but our office is currently closed. Please call back during business hours. Goodbye."
      },
      "Transitions": {
        "NextAction": "a1000013-0013-0013-0013-000000000013",
        "Errors": [
          { "ErrorType": "NoMatchingError", "NextAction": "a1000015-0015-0015-0015-000000000015" }
        ],
        "Conditions": []
      }
    },
    {
      "Identifier": "a1000013-0013-0013-0013-000000000013",
      "Type": "DisconnectParticipant",
      "Parameters": {},
      "Transitions": {}
    },
    {
      "Identifier": "a1000014-0014-0014-0014-000000000014",
      "Type": "MessageParticipant",
      "Parameters": {
        "Text": "Sorry, that was not a valid selection. Goodbye."
      },
      "Transitions": {
        "NextAction": "a1000015-0015-0015-0015-000000000015",
        "Errors": [
          { "ErrorType": "NoMatchingError", "NextAction": "a1000015-0015-0015-0015-000000000015" }
        ],
        "Conditions": []
      }
    },
    {
      "Identifier": "a1000015-0015-0015-0015-000000000015",
      "Type": "DisconnectParticipant",
      "Parameters": {},
      "Transitions": {}
    },
    {
      "Identifier": "a1000016-0016-0016-0016-000000000016",
      "Type": "MessageParticipant",
      "Parameters": {
        "Text": "We are experiencing technical difficulties. Please try again later. Goodbye."
      },
      "Transitions": {
        "NextAction": "a1000017-0017-0017-0017-000000000017",
        "Errors": [
          { "ErrorType": "NoMatchingError", "NextAction": "a1000015-0015-0015-0015-000000000015" }
        ],
        "Conditions": []
      }
    },
    {
      "Identifier": "a1000017-0017-0017-0017-000000000017",
      "Type": "DisconnectParticipant",
      "Parameters": {},
      "Transitions": {}
    }
  ]
}
