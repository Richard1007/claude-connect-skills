{
  "Version": "2019-10-30",
  "StartAction": "d6000001-0001-0001-0001-000000000001",
  "Metadata": {
    "entryPointPosition": { "x": 39, "y": 40 },
    "ActionMetadata": {
      "d6000001-0001-0001-0001-000000000001": { "position": { "x": 250, "y": 40 } },
      "d6000002-0002-0002-0002-000000000002": { "position": { "x": 500, "y": 40 } },
      "d6000003-0003-0003-0003-000000000003": { "position": { "x": 750, "y": 40 } },
      "d6000004-0004-0004-0004-000000000004": { "position": { "x": 1000, "y": -100 } },
      "d6000005-0005-0005-0005-000000000005": { "position": { "x": 1250, "y": -100 } },
      "d6000006-0006-0006-0006-000000000006": { "position": { "x": 1500, "y": -100 } },
      "d6000007-0007-0007-0007-000000000007": { "position": { "x": 1750, "y": -100 } },
      "d6000008-0008-0008-0008-000000000008": { "position": { "x": 2000, "y": -100 } },
      "d6000009-0009-0009-0009-000000000009": { "position": { "x": 1000, "y": 150 } },
      "d6000010-0010-0010-0010-000000000010": { "position": { "x": 1250, "y": 150 } },
      "d6000011-0011-0011-0011-000000000011": { "position": { "x": 1500, "y": 150 } },
      "d6000012-0012-0012-0012-000000000012": { "position": { "x": 1750, "y": 150 } },
      "d6000013-0013-0013-0013-000000000013": { "position": { "x": 2000, "y": 150 } },
      "d6000014-0014-0014-0014-000000000014": { "position": { "x": 750, "y": 350 } },
      "d6000015-0015-0015-0015-000000000015": { "position": { "x": 2250, "y": 40 } },
      "d6000016-0016-0016-0016-000000000016": { "position": { "x": 1500, "y": -300 } },
      "d6000017-0017-0017-0017-000000000017": { "position": { "x": 1750, "y": -300 } }
    }
  },
  "Actions": [
    {
      "Identifier": "d6000001-0001-0001-0001-000000000001",
      "Type": "UpdateContactTextToSpeechVoice",
      "Parameters": {
        "TextToSpeechEngine": "Neural",
        "TextToSpeechStyle": "None",
        "TextToSpeechVoice": "Joanna"
      },
      "Transitions": {
        "NextAction": "d6000002-0002-0002-0002-000000000002",
        "Errors": [
          { "ErrorType": "NoMatchingError", "NextAction": "d6000015-0015-0015-0015-000000000015" }
        ]
      }
    },
    {
      "Identifier": "d6000002-0002-0002-0002-000000000002",
      "Type": "MessageParticipant",
      "Parameters": {
        "Text": "Welcome to the callback and queue priority test."
      },
      "Transitions": {
        "NextAction": "d6000003-0003-0003-0003-000000000003",
        "Errors": [
          { "ErrorType": "NoMatchingError", "NextAction": "d6000015-0015-0015-0015-000000000015" }
        ],
        "Conditions": []
      }
    },
    {
      "Identifier": "d6000003-0003-0003-0003-000000000003",
      "Type": "GetParticipantInput",
      "Parameters": {
        "Text": "Press 1 to schedule a callback. Press 2 for priority queue routing.",
        "StoreInput": "False",
        "InputTimeLimitSeconds": "5"
      },
      "Transitions": {
        "NextAction": "d6000014-0014-0014-0014-000000000014",
        "Conditions": [
          {
            "NextAction": "d6000004-0004-0004-0004-000000000004",
            "Condition": { "Operator": "Equals", "Operands": ["1"] }
          },
          {
            "NextAction": "d6000009-0009-0009-0009-000000000009",
            "Condition": { "Operator": "Equals", "Operands": ["2"] }
          }
        ],
        "Errors": [
          { "ErrorType": "InputTimeLimitExceeded", "NextAction": "d6000014-0014-0014-0014-000000000014" },
          { "ErrorType": "NoMatchingCondition", "NextAction": "d6000014-0014-0014-0014-000000000014" },
          { "ErrorType": "NoMatchingError", "NextAction": "d6000015-0015-0015-0015-000000000015" }
        ]
      }
    },
    {
      "Identifier": "d6000004-0004-0004-0004-000000000004",
      "Type": "MessageParticipant",
      "Parameters": {
        "Text": "Please enter your 10 digit phone number followed by the pound key."
      },
      "Transitions": {
        "NextAction": "d6000005-0005-0005-0005-000000000005",
        "Errors": [
          { "ErrorType": "NoMatchingError", "NextAction": "d6000015-0015-0015-0015-000000000015" }
        ],
        "Conditions": []
      }
    },
    {
      "Identifier": "d6000005-0005-0005-0005-000000000005",
      "Type": "GetParticipantInput",
      "Parameters": {
        "Text": "Enter your phone number now.",
        "StoreInput": "True",
        "InputTimeLimitSeconds": "10"
      },
      "Transitions": {
        "NextAction": "d6000006-0006-0006-0006-000000000006",
        "Conditions": [],
        "Errors": [
          { "ErrorType": "InputTimeLimitExceeded", "NextAction": "d6000014-0014-0014-0014-000000000014" },
          { "ErrorType": "NoMatchingError", "NextAction": "d6000015-0015-0015-0015-000000000015" }
        ]
      }
    },
    {
      "Identifier": "d6000006-0006-0006-0006-000000000006",
      "Type": "UpdateContactCallbackNumber",
      "Parameters": {
        "CallbackNumber": "$.StoredCustomerInput"
      },
      "Transitions": {
        "NextAction": "d6000007-0007-0007-0007-000000000007",
        "Errors": [
          { "ErrorType": "InvalidCallbackNumber", "NextAction": "d6000016-0016-0016-0016-000000000016" },
          { "ErrorType": "CallbackNumberNotDialable", "NextAction": "d6000016-0016-0016-0016-000000000016" }
        ],
        "Conditions": []
      }
    },
    {
      "Identifier": "d6000007-0007-0007-0007-000000000007",
      "Type": "UpdateContactTargetQueue",
      "Parameters": {
        "QueueId": "arn:aws:connect:us-west-2:988066449281:instance/7d261e94-17bc-4f3e-96f7-f9b7541ce479/queue/337d3528-bb6c-40e3-8e1d-fbe98ab400a1"
      },
      "Transitions": {
        "NextAction": "d6000008-0008-0008-0008-000000000008",
        "Errors": [
          { "ErrorType": "NoMatchingError", "NextAction": "d6000015-0015-0015-0015-000000000015" }
        ]
      }
    },
    {
      "Identifier": "d6000008-0008-0008-0008-000000000008",
      "Type": "MessageParticipant",
      "Parameters": {
        "Text": "Your callback has been scheduled. We will call you back shortly. Goodbye."
      },
      "Transitions": {
        "NextAction": "d6000015-0015-0015-0015-000000000015",
        "Errors": [
          { "ErrorType": "NoMatchingError", "NextAction": "d6000015-0015-0015-0015-000000000015" }
        ],
        "Conditions": []
      }
    },
    {
      "Identifier": "d6000009-0009-0009-0009-000000000009",
      "Type": "UpdateContactTargetQueue",
      "Parameters": {
        "QueueId": "arn:aws:connect:us-west-2:988066449281:instance/7d261e94-17bc-4f3e-96f7-f9b7541ce479/queue/337d3528-bb6c-40e3-8e1d-fbe98ab400a1"
      },
      "Transitions": {
        "NextAction": "d6000010-0010-0010-0010-000000000010",
        "Errors": [
          { "ErrorType": "NoMatchingError", "NextAction": "d6000015-0015-0015-0015-000000000015" }
        ]
      }
    },
    {
      "Identifier": "d6000010-0010-0010-0010-000000000010",
      "Type": "UpdateContactRoutingBehavior",
      "Parameters": {
        "QueuePriority": "1"
      },
      "Transitions": {
        "NextAction": "d6000011-0011-0011-0011-000000000011",
        "Errors": [],
        "Conditions": []
      }
    },
    {
      "Identifier": "d6000011-0011-0011-0011-000000000011",
      "Type": "UpdateContactEventHooks",
      "Parameters": {
        "EventHooks": {
          "CustomerQueue": "arn:aws:connect:us-west-2:988066449281:instance/7d261e94-17bc-4f3e-96f7-f9b7541ce479/contact-flow/13540c3d-685b-4179-877c-702b802d25e8"
        }
      },
      "Transitions": {
        "NextAction": "d6000012-0012-0012-0012-000000000012",
        "Errors": [
          { "ErrorType": "NoMatchingError", "NextAction": "d6000015-0015-0015-0015-000000000015" }
        ],
        "Conditions": []
      }
    },
    {
      "Identifier": "d6000012-0012-0012-0012-000000000012",
      "Type": "MessageParticipant",
      "Parameters": {
        "Text": "You have been set to priority routing. Your call will be answered first. Please hold."
      },
      "Transitions": {
        "NextAction": "d6000013-0013-0013-0013-000000000013",
        "Errors": [
          { "ErrorType": "NoMatchingError", "NextAction": "d6000015-0015-0015-0015-000000000015" }
        ],
        "Conditions": []
      }
    },
    {
      "Identifier": "d6000013-0013-0013-0013-000000000013",
      "Type": "TransferContactToQueue",
      "Parameters": {},
      "Transitions": {
        "NextAction": "d6000015-0015-0015-0015-000000000015",
        "Errors": [
          { "ErrorType": "QueueAtCapacity", "NextAction": "d6000015-0015-0015-0015-000000000015" },
          { "ErrorType": "NoMatchingError", "NextAction": "d6000015-0015-0015-0015-000000000015" }
        ]
      }
    },
    {
      "Identifier": "d6000014-0014-0014-0014-000000000014",
      "Type": "MessageParticipant",
      "Parameters": {
        "Text": "Sorry, that was not a valid selection. Goodbye."
      },
      "Transitions": {
        "NextAction": "d6000015-0015-0015-0015-000000000015",
        "Errors": [
          { "ErrorType": "NoMatchingError", "NextAction": "d6000015-0015-0015-0015-000000000015" }
        ],
        "Conditions": []
      }
    },
    {
      "Identifier": "d6000015-0015-0015-0015-000000000015",
      "Type": "DisconnectParticipant",
      "Parameters": {},
      "Transitions": {}
    },
    {
      "Identifier": "d6000016-0016-0016-0016-000000000016",
      "Type": "MessageParticipant",
      "Parameters": {
        "Text": "The phone number you entered is not valid. Goodbye."
      },
      "Transitions": {
        "NextAction": "d6000017-0017-0017-0017-000000000017",
        "Errors": [
          { "ErrorType": "NoMatchingError", "NextAction": "d6000015-0015-0015-0015-000000000015" }
        ],
        "Conditions": []
      }
    },
    {
      "Identifier": "d6000017-0017-0017-0017-000000000017",
      "Type": "DisconnectParticipant",
      "Parameters": {},
      "Transitions": {}
    }
  ]
}
